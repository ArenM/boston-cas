- label = object.label_for(contact_type) 
- contacts_type = object.contact_type_for(contact_type) 
- available_contacts_method = object.available_contacts_method_for(contact_type)
- selected_contacts_method = object.selected_contacts_method_for(contact_type)  

= form.input contact_type, collection: object.public_send(available_contacts_method), label: label, include_blank: true, input_html: {class: [:select2, :jContactField], data: {contact_type: contact_type, input_name: input_name}}
%div{ data: {selected_contacts: true} }
  - object.send(selected_contacts_method).each do |contact|
    .selected-contact.c-contact-list__contact.margin-0
      %input{type: :hidden, name: input_name, value: contact.id, class: :jContactHidden}
      .c-contact-list__details
        = "#{contact.name} | "
        = contact.email
      = link_to '#', data: {contact_id: contact.id, input_name: input_name}, class: 'jContactDelete c-contact-list__remove selected-contact--remove-link' do
        %i.icon-cross
    
